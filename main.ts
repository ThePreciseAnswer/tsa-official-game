namespace SpriteKind {
    export const NonTouchableObject = SpriteKind.create()
    export const BallLauncher = SpriteKind.create()
    export const BallStrip = SpriteKind.create()
    export const Target = SpriteKind.create()
    export const DecoyBall = SpriteKind.create()
    export const DuckHitter = SpriteKind.create()
    export const YellowDuck = SpriteKind.create()
    export const Reloading = SpriteKind.create()
    export const RedDuck = SpriteKind.create()
    export const GreenDuck = SpriteKind.create()
    export const EndAnimation = SpriteKind.create()
    export const Tutorial = SpriteKind.create()
    export const CounterGuyO = SpriteKind.create()
    export const ExplosiveDuck = SpriteKind.create()
    export const LotteryDuck = SpriteKind.create()
    export const BigDuck = SpriteKind.create()
    export const TimeLotDuck = SpriteKind.create()
    export const SmallDuck = SpriteKind.create()
    export const Settings = SpriteKind.create()
    export const Cursor = SpriteKind.create()
    export const GlitchedDuckO = SpriteKind.create()
    export const GamblerCountdown = SpriteKind.create()
    export const SurvivalDuckO = SpriteKind.create()
    export const Logo = SpriteKind.create()
}
let FPSCarnivalSetup = false
let TopScore = 50
let SCORE = 0
let IfFPSCarnivalGameActive = false
let TargetActive = 0
let TargetSpr: Sprite = null
let ReadyController = 0
let DecoyBallSpr: Sprite = null
let ModdedDucks = 0
let CounterGuy: Sprite = null
let Tutorial2: Sprite = null
let TutorialNumber = 0
let GuySpeak = 0
let BackwardialWaves: Sprite = null
let FrontalWaves: Sprite = null
let FrontalDrapes: Sprite = null
let EndAnimation2: Sprite = null
let CountDown = 0
let YellowDuckSpr: Sprite = null
let RedDuckSpr: Sprite = null
let ModdedDuckPicker = 0
let GlitchedDuck: Sprite = null
let SurvivalModeActive = 0
let SurvivalDuck: Sprite = null
let GamblerDuck: Sprite = null
let Ball: Sprite = null
let HammerPosition = 0
let GreenDuckSpr: Sprite = null
let LivesSM = 0
let HeartSprite: Sprite = null
let FinalScreen = 0
let textSprite: TextSprite = null
let textSprite2: TextSprite = null
let textSprite3: TextSprite = null
let textSprite4: TextSprite = null
let textSprite5: TextSprite = null
let textSprite6: TextSprite = null
let textSprite7: TextSprite = null
let ExplosionBall: Sprite = null
let CountDownOver = 0
let CounterGuyv2: Sprite = null
let Points: TextSprite = null
let CountDownP: TextSprite = null
let ModPickerPercentile = 0
let ExplosiveDuckSpr: Sprite = null
let BigDuckorSmallDuck = 0
let SizeDuck: Sprite = null
let MorePointsorMoreTime = 0
let LotteryDuckSpr: Sprite = null
controller.B.onEvent(ControllerButtonEvent.Pressed, function () {
    if (FPSCarnivalSetup == true && TopScore == 50) {
        TopScore = 75
    } else {
        TopScore = 100
    }
    if (Tut == 6) {
        scene.setBackgroundImage(assets.image`ZSettings6`)
        Tut += 1
    }
})
sprites.onOverlap(SpriteKind.DuckHitter, SpriteKind.LotteryDuck, function (sprite2, otherSprite2) {
    otherSprite2.startEffect(effects.warmRadial)
    otherSprite2.sayText("JACKPOT!", 2000, true)
    music.play(music.createSoundEffect(WaveShape.Noise, 1, 3313, 255, 37, 500, SoundExpressionEffect.Vibrato, InterpolationCurve.Logarithmic), music.PlaybackMode.InBackground)
    otherSprite2.setKind(SpriteKind.NonTouchableObject)
    otherSprite2.vx = 0
    otherSprite2.vy = -40
    SCORE += 8
    timer.after(50, function () {
        otherSprite2.ay = 60
    })
})
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    if (IfFPSCarnivalGameActive == true) {
        if (TargetActive != 1 && TargetSpr.y < 65 && ReadyController == 1) {
            controller.moveSprite(TargetSpr, 0, 0)
            TargetActive = 1
            TargetSpr.vx = 0
            sprites.destroyAllSpritesOfKind(SpriteKind.BallLauncher)
            DecoyBallSpr = sprites.create(assets.image`Ball`, SpriteKind.DecoyBall)
            DecoyBallSpr.y = 114
            DecoyBallSpr.x = TargetSpr.x
            DecoyBallSpr.z = 10
            DecoyBallSpr.vy = -75
            music.play(music.createSoundEffect(WaveShape.Noise, 137, 2808, 255, 0, 750, SoundExpressionEffect.None, InterpolationCurve.Linear), music.PlaybackMode.InBackground)
            sprites.destroyAllSpritesOfKind(SpriteKind.BallLauncher)
        }
    } else {
        if (FPSCarnivalSetup == true) {
            FPSCarnivalSetup = false
            sprites.destroyAllSpritesOfKind(SpriteKind.CounterGuyO)
            sprites.destroyAllSpritesOfKind(SpriteKind.Tutorial)
            scene.setBackgroundImage(img`
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
                `)
            FPSCarnivalSetupSpr()
            Countdown()
        }
    }
    if (PlinkoGameActive == 1) {
        balldropped = true
    }
    APressedContinued()
})
function SDPBottomHalf (Duck: Sprite) {
    Duck.z = 5
    Duck.setPosition(160, 50)
    Duck.vx = -30
    Duck.setFlag(SpriteFlag.AutoDestroy, true)
}
function SetUpForCarnivalGame () {
    if (game.ask("Implement Extra Features?", "Press B To Deny.")) {
        if (game.ask("Edit mode?", "Automatically BOTH!")) {
            if (game.ask("Top Only?", "Not Reccomended!")) {
                ModdedDucks = 2
            } else {
                if (game.ask("Bottom Only", "Reccomended!")) {
                    ModdedDucks = 3
                }
            }
        } else {
            ModdedDucks = 1
        }
    } else {
        ModdedDucks = 0
    }
    game.showLongText("Move through the tutorial with your arrow keys at the start of intialization before pressing A to begin.", DialogLayout.Full)
    game.showLongText("Press B to increase the High Score to 75. Press it again to increase it to 100.", DialogLayout.Full)
    FPSCarnivalSetup = true
    scene.setBackgroundImage(assets.image`Logo`)
    CounterGuy = sprites.create(img`
        333333333333333333333333333333333333333333333
        333333333333333333333333333333333333333333333
        333333333333333333333333333333333333333333333
        333333333333333333333333333333333333333333333
        333333333333333333333333333333333333333333333
        333333333333333333333333333333333333333333333
        333333333333333333333333333333333333333333333
        333333333333333333333333333333333333333333333
        333333333333333333333333333333333333333333333
        333333333333333333333333333333333333333333333
        333333333333333333333333333333333333333333333
        333333333333333333333333333333333333333333333
        333333333333333333333333333333333333333333333
        333333333333333333333333333333333333333333333
        333333333333333333333333333333333333333333333
        333333333333333333333333333333333333333333333
        333333333333333333333333333333333333333333333
        333333333333333333333333333333333333333333333
        333333333333333333333333333333333333333333333
        333333333333333333333333333333333333333333333
        333333333333333333333333333333333333333333333
        333333333333333333333333333333333333333333333
        333333333333333333333333333333333333333333333
        333333333333333333333333333333333333333333333
        333333333333333333333333333333333333333333333
        333333333333333333333333333333333333333333333
        333333333333333333333333333333333333333333333
        333333333333333333333333333333333333333333333
        333333333333333333333333333333333333333333333
        333333333333333333333333333333333333333333333
        333333333333333333333333333333333333333333333
        333333333333333333333333333333333333333333333
        333333333333333333333333333333333333333333333
        333333333333333333333333333333333333333333333
        333333333333333333333333333333333333333333333
        333333333333333333333333333333333333333333333
        333333333333333333333333333333333333333333333
        333333333333333333333333333333333333333333333
        333333333333333333333333333333333333333333333
        333333333333333333333333333333333333333333333
        333333333333333333333333333333333333333333333
        333333333333333333333333333333333333333333333
        333333333333333333333333333333333333333333333
        333333333333333333333333333333333333333333333
        333333333333333333333333333333333333333333333
        333333333333333333333333333333333333333333333
        333333333333333333333333333333333333333333333
        333333333333333333333333333333333333333333333
        333333333333333333333333333333333333333333333
        333333333333333333333333333333333333333333333
        333333333333333333333333333333333333333333333
        333333333333333333333333333333333333333333333
        333333333333333333333333333333333333333333333
        333333333333333333333333333333333333333333333
        333333333333333333333333333333333333333333333
        333333333333333333333333333333333333333333333
        333333333333333333333333333333333333333333333
        333333333333333333333333333333333333333333333
        333333333333333333333333333333333333333333333
        333333333333333333333333333333333333333333333
        `, SpriteKind.CounterGuyO)
    animation.runImageAnimation(
    CounterGuy,
    assets.animation`CounterGuy`,
    250,
    true
    )
    CounterGuy.setPosition(23, 90)
    Tutorial2 = sprites.create(assets.image`Tut1`, SpriteKind.Tutorial)
    Tutorial2.setPosition(100, 80)
    TutorialNumber = 0
    GuySpeak = 500
    CounterGuy.sayText("Welcome!", 1000, true)
    timer.after(GuySpeak + 500, function () {
        CounterGuy.sayText("Check", GuySpeak, true)
        timer.after(GuySpeak, function () {
            CounterGuy.sayText("Tutorial", GuySpeak, true)
            timer.after(GuySpeak, function () {
                CounterGuy.sayText("For", GuySpeak, true)
                timer.after(GuySpeak, function () {
                    CounterGuy.sayText("Info", GuySpeak, true)
                    timer.after(GuySpeak, function () {
                        CounterGuy.sayText("Then", GuySpeak, true)
                        timer.after(GuySpeak, function () {
                            CounterGuy.sayText("Press", GuySpeak, true)
                            timer.after(GuySpeak, function () {
                                CounterGuy.sayText("A!", 1000, true)
                            })
                        })
                    })
                })
            })
        })
    })
}
function FPSCarnivalSetupSpr () {
    IfFPSCarnivalGameActive = true
    TopScore = 50
    BackwardialWaves = sprites.create(assets.image`BackwardialWaves`, SpriteKind.NonTouchableObject)
    BackwardialWaves.z = 4
    FrontalWaves = sprites.create(assets.image`FrontalWaves`, SpriteKind.NonTouchableObject)
    FrontalWaves.z = 6
    FrontalDrapes = sprites.create(assets.image`CarnivalBG`, SpriteKind.Player)
    FrontalDrapes.z = 8
    TargetActive = 0
    ReadyController = 1
    animation.runImageAnimation(
    FrontalWaves,
    assets.animation`FrontalWavesAnim`,
    200,
    true
    )
    animation.runImageAnimation(
    BackwardialWaves,
    assets.animation`BackwardialWavesAnim`,
    250,
    true
    )
    InitalizeInGameTools()
}
function Anim () {
    timer.after(200, function () {
        ReadyController = 0
        TargetActive = 0
        DecoyBallSpr.setKind(SpriteKind.DecoyBall)
        sprites.destroy(DecoyBallSpr)
        EndAnimation2 = sprites.create(assets.image`Reloading`, SpriteKind.Reloading)
        animation.runImageAnimation(
        EndAnimation2,
        assets.animation`ReloadingAnim`,
        25,
        false
        )
        EndAnimation2.y = 112
        EndAnimation2.z = 11
        timer.after(475, function () {
            ResetBall()
            timer.after(100, function () {
                sprites.destroyAllSpritesOfKind(SpriteKind.Reloading)
                controller.moveSprite(TargetSpr, 0, 100)
                ReadyController = 1
            })
        })
    })
}
sprites.onOverlap(SpriteKind.DuckHitter, SpriteKind.GamblerCountdown, function (sprite3, otherSprite3) {
    music.play(music.createSoundEffect(WaveShape.Triangle, 2783, 2729, 117, 0, 150, SoundExpressionEffect.None, InterpolationCurve.Linear), music.PlaybackMode.InBackground)
    otherSprite3.setKind(SpriteKind.NonTouchableObject)
    otherSprite3.vx = 0
    otherSprite3.vy = -40
    SCORE += randint(-20, 20)
    CountDown += randint(-20, 20)
    timer.after(50, function () {
        otherSprite3.ay = 60
    })
})
sprites.onOverlap(SpriteKind.DuckHitter, SpriteKind.GreenDuck, function (sprite, otherSprite) {
    music.play(music.createSoundEffect(WaveShape.Sine, 3075, 200, 255, 0, 150, SoundExpressionEffect.Tremolo, InterpolationCurve.Logarithmic), music.PlaybackMode.InBackground)
    otherSprite.setKind(SpriteKind.NonTouchableObject)
    otherSprite.vx = 0
    otherSprite.vy = -40
    CountDown += 5
    timer.after(50, function () {
        otherSprite.ay = 60
    })
})
sprites.onOverlap(SpriteKind.DuckHitter, SpriteKind.TimeLotDuck, function (sprite2, otherSprite2) {
    otherSprite2.startEffect(effects.warmRadial)
    otherSprite2.sayText("PAST NOON", 2000, true)
    music.play(music.createSoundEffect(WaveShape.Noise, 1, 5000, 255, 34, 500, SoundExpressionEffect.Vibrato, InterpolationCurve.Logarithmic), music.PlaybackMode.InBackground)
    otherSprite2.setKind(SpriteKind.NonTouchableObject)
    otherSprite2.vx = 0
    otherSprite2.vy = -40
    CountDown += 8
    timer.after(50, function () {
        otherSprite2.ay = 60
    })
})
function ModdedDucksTop () {
    if (Math.percentChance(50)) {
        if (Math.percentChance(80)) {
            if (Math.percentChance(90)) {
                YellowDuckSpr = sprites.create(assets.image`Duck`, SpriteKind.YellowDuck)
                YellowDuckSpr.z = 3
                YellowDuckSpr.setPosition(0, 13)
                YellowDuckSpr.vx = 60
                YellowDuckSpr.setFlag(SpriteFlag.AutoDestroy, true)
                animation.runImageAnimation(
                YellowDuckSpr,
                assets.animation`DuckAnimationF0`,
                200,
                true
                )
            } else {
                GreenduckFuncF()
            }
        } else if (Math.percentChance(90)) {
            RedDuckSpr = sprites.create(assets.image`RedDuck`, SpriteKind.RedDuck)
            RedDuckSpr.z = 3
            RedDuckSpr.setPosition(0, 13)
            RedDuckSpr.vx = 60
            RedDuckSpr.setFlag(SpriteFlag.AutoDestroy, true)
            animation.runImageAnimation(
            RedDuckSpr,
            assets.animation`DuckAnimationF`,
            200,
            true
            )
        } else {
            GreenduckFuncF()
        }
    } else {
        ModdedDuckPicker = randint(0, 75)
        if (ModdedDuckPicker < 25) {
            GlitchedDuck = sprites.create(assets.image`ModdedExpansionDuck`, SpriteKind.GlitchedDuckO)
            SDPTopHalf(GlitchedDuck)
            animation.runImageAnimation(
            GlitchedDuck,
            assets.animation`GlitchedDuck`,
            50,
            true
            )
        } else if (ModdedDuckPicker < 50) {
            if (SurvivalModeActive == 0) {
                SurvivalDuck = sprites.create(assets.image`ModdedExpansionDuck`, SpriteKind.SurvivalDuckO)
                SDPTopHalf(SurvivalDuck)
                animation.runImageAnimation(
                SurvivalDuck,
                assets.animation`SurvivalGamesDuck`,
                200,
                true
                )
            } else {
                RedDuckSpr = sprites.create(assets.image`RedDuck`, SpriteKind.RedDuck)
                SDPTopHalf(RedDuckSpr)
                animation.runImageAnimation(
                RedDuckSpr,
                assets.animation`DuckAnimationF`,
                200,
                true
                )
            }
        } else {
            GamblerDuck = sprites.create(assets.image`ModdedExpansionDuck`, SpriteKind.GamblerCountdown)
            SDPTopHalf(GamblerDuck)
            animation.runImageAnimation(
            GamblerDuck,
            assets.animation`DecoyDuck`,
            200,
            true
            )
        }
    }
}
function ResetBall () {
    sprites.destroyAllSpritesOfKind(SpriteKind.BallLauncher)
    Ball = sprites.create(assets.image`Ball`, SpriteKind.BallLauncher)
    Ball.z = 10
    Ball.setPosition(TargetSpr.x, 114)
    Ball.setStayInScreen(true)
}
controller.left.onEvent(ControllerButtonEvent.Pressed, function () {
    HammerPosition += -1
    if (IfFPSCarnivalGameActive == true) {
        if (TargetActive == 0 && ReadyController == 1) {
            Ball.vx = -50
            TargetSpr.vx = -50
        }
    } else {
        if (TutorialNumber > 0) {
            TutorialNumber += -1
        }
    }
    if (start == 1) {
        tiles.placeOnTile(Blocked3, tiles.getTileLocation(6, 9))
        Blocked3.vx += 250
    }
    if (PlinkoGameActive == 1){
        if (myDart.x <= 63) {

        } else {
            myDart.x -= 12

        }
    }
    LeftP()
})
sprites.onOverlap(SpriteKind.DuckHitter, SpriteKind.SmallDuck, function (sprite2, otherSprite2) {
    music.play(music.createSoundEffect(WaveShape.Triangle, 300, 200, 255, 0, 500, SoundExpressionEffect.Warble, InterpolationCurve.Curve), music.PlaybackMode.InBackground)
    otherSprite2.setKind(SpriteKind.NonTouchableObject)
    otherSprite2.vx = 0
    otherSprite2.vy = -40
    SCORE += CountDown
    timer.after(50, function () {
        otherSprite2.ay = 60
    })
})
function GreenduckFuncF () {
    GreenDuckSpr = sprites.create(assets.image`GreenDuck`, SpriteKind.GreenDuck)
    GreenDuckSpr.z = 3
    GreenDuckSpr.setPosition(0, 13)
    GreenDuckSpr.vx = 60
    GreenDuckSpr.setFlag(SpriteFlag.AutoDestroy, true)
    animation.runImageAnimation(
    GreenDuckSpr,
    assets.animation`DuckAnimationGF`,
    200,
    true
    )
}
sprites.onOverlap(SpriteKind.DuckHitter, SpriteKind.BigDuck, function (sprite2, otherSprite2) {
    music.play(music.createSoundEffect(WaveShape.Triangle, 300, 200, 255, 0, 500, SoundExpressionEffect.Warble, InterpolationCurve.Curve), music.PlaybackMode.InBackground)
    otherSprite2.setKind(SpriteKind.NonTouchableObject)
    otherSprite2.vx = 0
    otherSprite2.vy = -40
    SCORE += CountDown * -1
    timer.after(50, function () {
        otherSprite2.ay = 60
    })
})
function InitiateSurvivalMode () {
    SurvivalModeActive = 1
    LivesSM = 3
    HeartSprite = sprites.create(assets.image`HeartSprite`, SpriteKind.NonTouchableObject)
    HeartSprite.z = 8
    HeartSprite.setPosition(80, 23)
    animation.runMovementAnimation(
    HeartSprite,
    animation.animationPresets(animation.bobbing),
    2000,
    true
    )
    timer.after(20000, function () {
        animation.runMovementAnimation(
        HeartSprite,
        animation.animationPresets(animation.easeUp),
        2000,
        false
        )
        timer.after(2000, function () {
            sprites.destroy(HeartSprite)
            LivesSM = 4
            SurvivalModeActive = 0
        })
    })
}
sprites.onOverlap(SpriteKind.DuckHitter, SpriteKind.SurvivalDuckO, function (sprite3, otherSprite3) {
    music.play(music.stringPlayable("C5 B E C5 B E C5 B ", 405), music.PlaybackMode.InBackground)
    otherSprite3.setKind(SpriteKind.NonTouchableObject)
    otherSprite3.vx = 0
    otherSprite3.vy = -40
    if (SurvivalModeActive == 0) {
        InitiateSurvivalMode()
    }
    timer.after(50, function () {
        otherSprite3.ay = 60
    })
})
controller.right.onEvent(ControllerButtonEvent.Pressed, function () {
    HammerPosition += 1
    if (IfFPSCarnivalGameActive == true) {
        if (TargetActive == 0 && ReadyController == 1) {
            Ball.vx = 50
            TargetSpr.vx = 50
        }
    } else {
        if (TutorialNumber < 5) {
            TutorialNumber += 1
        }
    }
    if (start == 1) {
        tiles.placeOnTile(Blocked4, tiles.getTileLocation(12, 9))
        Blocked4.vx += -250
    }
    if (PlinkoGameActive == 1) {
        if (myDart.x <= 101) {
            myDart.x += 10
            console.logValue("DartX", myDart.x)
        }
        
    }
    RightP() 
})
function InitalizeInGameTools () {
    Ball = sprites.create(assets.image`Ball`, SpriteKind.BallLauncher)
    Ball.z = 10
    Ball.setPosition(80, 114)
    TargetSpr = sprites.create(assets.image`Target`, SpriteKind.Target)
    TargetSpr.setPosition(80, 114)
    TargetSpr.z = 9
    controller.moveSprite(TargetSpr, 0, 100)
    Ball.setStayInScreen(true)
    TargetSpr.setStayInScreen(true)
}
function Scorething () {
    FinalScreen = 1
    EndAnimation2 = sprites.create(assets.image`AnimPlaceHolder`, SpriteKind.EndAnimation)
    EndAnimation2.z = 18
    ReadyController = 0
    textSprite = textsprite.create("1st Place: " + TopScore)
    textSprite.setPosition(50, 11)
    textSprite.z = 19
    textSprite.setOutline(1, 4)
    if (TopScore >= 100) {
        textSprite.x += 3
    }
    textSprite2 = textsprite.create("2nd Place: " + (TopScore - 10))
    textSprite2.setPosition(50, 33)
    textSprite2.z = 19
    textSprite2.setOutline(1, 4)
    textSprite3 = textsprite.create("3rd Place: " + (TopScore - 20))
    textSprite3.setPosition(50, 55)
    textSprite3.z = 19
    textSprite3.setOutline(1, 4)
    textSprite4 = textsprite.create("4th Place: " + (TopScore - 25))
    textSprite4.setPosition(51, 77)
    textSprite4.z = 19
    textSprite4.setOutline(1, 4)
    textSprite5 = textsprite.create("5th Place: " + (TopScore - 35))
    textSprite5.setPosition(50, 99)
    textSprite5.z = 19
    textSprite5.setOutline(1, 4)
    textSprite6 = textsprite.create("Score:")
    textSprite6.setPosition(122, 35)
    textSprite6.z = 19
    textSprite6.setOutline(1, 4)
    textSprite7 = textsprite.create("" + SCORE, 0, 8)
    textSprite7.setPosition(119, 62)
    textSprite7.z = 19
    textSprite7.setOutline(1, 4)
    textSprite7.changeScale(2, ScaleAnchor.Middle)
    animation.runMovementAnimation(
    textSprite7,
    animation.animationPresets(animation.bobbing),
    2000,
    true
    )
}
function SDPTopHalf (Duck: Sprite) {
    Duck.z = 3
    Duck.setPosition(0, 13)
    Duck.vx = 60
    Duck.setFlag(SpriteFlag.AutoDestroy, true)
}
sprites.onOverlap(SpriteKind.DuckHitter, SpriteKind.GlitchedDuckO, function (sprite3, otherSprite3) {
    music.play(music.createSoundEffect(WaveShape.Noise, 248, 200, 255, 255, 1000, SoundExpressionEffect.Warble, InterpolationCurve.Linear), music.PlaybackMode.InBackground)
    otherSprite3.setKind(SpriteKind.NonTouchableObject)
    otherSprite3.vx = 0
    otherSprite3.vy = -40
    for (let index = 0; index < 1000; index++) {
        GlitchedDuck = sprites.create(assets.image`ModdedExpansionDuck`, SpriteKind.GlitchedDuckO)
        SDPTopHalf(GlitchedDuck)
        GlitchedDuck.setPosition(randint(0, 160), randint(0, 120))
        GlitchedDuck.z = 10
        animation.runImageAnimation(
        GlitchedDuck,
        assets.animation`GlitchedDuck`,
        5,
        true
        )
        pause(1)
        sprites.destroy(GlitchedDuck)
    }
    timer.after(50, function () {
        otherSprite3.ay = 60
    })
})
sprites.onOverlap(SpriteKind.DuckHitter, SpriteKind.ExplosiveDuck, function (sprite2, otherSprite2) {
    scene.cameraShake(4, 500)
    music.play(music.createSoundEffect(WaveShape.Noise, 2333, 600, 255, 0, 500, SoundExpressionEffect.Warble, InterpolationCurve.Linear), music.PlaybackMode.InBackground)
    otherSprite2.setKind(SpriteKind.NonTouchableObject)
    otherSprite2.vx = 0
    otherSprite2.vy = -40
    for (let index = 0; index < 5; index++) {
        ExplosionBall = sprites.create(assets.image`ModdedMultiball`, SpriteKind.DuckHitter)
        ExplosionBall.setPosition(otherSprite2.x, otherSprite2.y)
        ExplosionBall.vx = randint(randint(-100, -50), randint(50, 100))
        ExplosionBall.vy = randint(-100, -50)
        ExplosionBall.z = 9
        ExplosionBall.setFlag(SpriteFlag.AutoDestroy, true)
    }
    timer.after(50, function () {
        otherSprite2.ay = 60
    })
})
sprites.onOverlap(SpriteKind.DuckHitter, SpriteKind.RedDuck, function (sprite3, otherSprite3) {
    music.play(music.createSoundEffect(WaveShape.Sine, 600, 200, 255, 0, 150, SoundExpressionEffect.Warble, InterpolationCurve.Linear), music.PlaybackMode.InBackground)
    otherSprite3.setKind(SpriteKind.NonTouchableObject)
    otherSprite3.vx = 0
    otherSprite3.vy = -40
    SCORE += -4
    CountDown += -3
    if (SurvivalModeActive == 1) {
        LivesSM += -1
        scene.cameraShake(4, 500)
        if (LivesSM == 0) {
            Scorething()
            if (SCORE >= TopScore) {
                timer.after(2800, function () {
                    blockSettings.writeNumber("CE", 1)
                    game.gameOver(true)
                })
            } else {
                timer.after(2800, function () {
                    game.setGameOverMessage(false, "The ducks prevail...")
                    game.gameOver(false)
                })
            }
        }
    }
    timer.after(50, function () {
        otherSprite3.ay = 60
    })
})
function Countdown () {
    CountDownOver = 0
    CounterGuyv2 = sprites.create(img`
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
        `, SpriteKind.NonTouchableObject)
    CounterGuyv2.z = 11
    animation.runImageAnimation(
    CounterGuyv2,
    assets.animation`CounterGuy0`,
    1000,
    false
    )
    music.play(music.createSoundEffect(WaveShape.Sine, 200, 600, 255, 0, 1000, SoundExpressionEffect.None, InterpolationCurve.Linear), music.PlaybackMode.UntilDone)
    music.play(music.createSoundEffect(WaveShape.Sine, 200, 600, 255, 0, 1000, SoundExpressionEffect.None, InterpolationCurve.Linear), music.PlaybackMode.UntilDone)
    music.play(music.createSoundEffect(WaveShape.Sine, 200, 600, 255, 0, 1000, SoundExpressionEffect.None, InterpolationCurve.Linear), music.PlaybackMode.UntilDone)
    animation.runMovementAnimation(
    CounterGuyv2,
    animation.animationPresets(animation.easeDown),
    2000,
    false
    )
    music.play(music.createSoundEffect(WaveShape.Triangle, 200, 600, 255, 0, 2000, SoundExpressionEffect.None, InterpolationCurve.Linear), music.PlaybackMode.UntilDone)
    CountDownOver = 1
    Points = textsprite.create("")
    Points.z = 14
    Points.setOutline(1, 4)
    Points.setPosition(130, 10)
    animation.runMovementAnimation(
    Points,
    animation.animationPresets(animation.bobbing),
    3000,
    true
    )
    SCORE = 0
    CountDownP = textsprite.create("")
    CountDownP.z = 14
    CountDownP.setOutline(1, 4)
    CountDownP.setPosition(27, 10)
    sprites.destroy(CounterGuyv2)
    animation.runMovementAnimation(
    CountDownP,
    animation.animationPresets(animation.bobbing),
    3000,
    true
    )
    CountDown = 35
    FinalScreen = 0
    music.play(music.createSong(assets.song`BouncyBeats`), music.PlaybackMode.LoopingInBackground)
}
function GreenduckFunc () {
    GreenDuckSpr = sprites.create(assets.image`GreenDuck`, SpriteKind.GreenDuck)
    GreenDuckSpr.z = 5
    GreenDuckSpr.setPosition(160, 50)
    GreenDuckSpr.vx = -30
    GreenDuckSpr.setFlag(SpriteFlag.AutoDestroy, true)
    animation.runImageAnimation(
    GreenDuckSpr,
    assets.animation`DuckAnimationG`,
    200,
    true
    )
}
sprites.onOverlap(SpriteKind.DuckHitter, SpriteKind.YellowDuck, function (sprite2, otherSprite2) {
    music.play(music.createSoundEffect(WaveShape.Sine, 200, 600, 255, 0, 150, SoundExpressionEffect.None, InterpolationCurve.Linear), music.PlaybackMode.InBackground)
    otherSprite2.setKind(SpriteKind.NonTouchableObject)
    otherSprite2.vx = 0
    otherSprite2.vy = -40
    SCORE += 4
    timer.after(50, function () {
        otherSprite2.ay = 60
    })
})
function ModdedDucksMode () {
    if (Math.percentChance(50)) {
        if (Math.percentChance(80)) {
            if (Math.percentChance(90)) {
                YellowDuckSpr = sprites.create(assets.image`Duck`, SpriteKind.YellowDuck)
                YellowDuckSpr.z = 5
                YellowDuckSpr.setPosition(160, 50)
                YellowDuckSpr.vx = -30
                YellowDuckSpr.setFlag(SpriteFlag.AutoDestroy, true)
                animation.runImageAnimation(
                YellowDuckSpr,
                assets.animation`DuckAnimation`,
                200,
                true
                )
            } else {
                GreenduckFunc()
            }
        } else if (Math.percentChance(90)) {
            RedDuckSpr = sprites.create(assets.image`RedDuck`, SpriteKind.RedDuck)
            RedDuckSpr.z = 5
            RedDuckSpr.setPosition(160, 50)
            RedDuckSpr.vx = -30
            RedDuckSpr.setFlag(SpriteFlag.AutoDestroy, true)
            animation.runImageAnimation(
            RedDuckSpr,
            assets.animation`DuckAnimation0`,
            200,
            true
            )
        } else {
            GreenduckFunc()
        }
    } else {
        ModPickerPercentile = randint(1, 75)
        if (ModPickerPercentile < 25) {
            ExplosiveDuckSpr = sprites.create(assets.image`ModdedExpansionDuck`, SpriteKind.ExplosiveDuck)
            SDPBottomHalf(ExplosiveDuckSpr)
            animation.runImageAnimation(
            ExplosiveDuckSpr,
            assets.animation`ExplosionDuck`,
            200,
            true
            )
        } else {
            if (ModPickerPercentile < 50) {
                BigDuckorSmallDuck = randint(1, 2)
                if (BigDuckorSmallDuck == 1) {
                    SizeDuck = sprites.create(assets.image`Duck`, SpriteKind.BigDuck)
                    SDPBottomHalf(SizeDuck)
                    animation.runImageAnimation(
                    SizeDuck,
                    assets.animation`DuckAnimation`,
                    200,
                    true
                    )
                    SizeDuck.changeScale(2, ScaleAnchor.Middle)
                } else {
                    SizeDuck = sprites.create(assets.image`Duck`, SpriteKind.SmallDuck)
                    SDPBottomHalf(SizeDuck)
                    animation.runImageAnimation(
                    SizeDuck,
                    assets.animation`DuckAnimation`,
                    200,
                    true
                    )
                    SizeDuck.changeScale(-0.4, ScaleAnchor.Middle)
                }
            } else {
                MorePointsorMoreTime = randint(1, 2)
                if (MorePointsorMoreTime == 1) {
                    LotteryDuckSpr = sprites.create(assets.image`ModdedExpansionDuck`, SpriteKind.LotteryDuck)
                    SDPBottomHalf(LotteryDuckSpr)
                    animation.runImageAnimation(
                    LotteryDuckSpr,
                    assets.animation`LotteryDuck`,
                    200,
                    true
                    )
                } else {
                    LotteryDuckSpr = sprites.create(assets.image`ModdedExpansionDuck`, SpriteKind.TimeLotDuck)
                    SDPBottomHalf(LotteryDuckSpr)
                    animation.runImageAnimation(
                    LotteryDuckSpr,
                    assets.animation`ClockDuck`,
                    200,
                    true
                    )
                }
            }
        }
    }
}
game.onUpdate(function () {
    if (IfFPSCarnivalGameActive == true) {
        if (TargetActive == 1) {
            if (DecoyBallSpr.y < TargetSpr.y + 20) {
                if (TargetSpr.y < 50) {
                    DecoyBallSpr.scale += -0.8
                } else {
                    DecoyBallSpr.scale += -0.3
                }
            } else {
                DecoyBallSpr.scale += 0.2
            }
        }
    }
})
game.onUpdate(function () {
    if (IfFPSCarnivalGameActive == true) {
        if (TargetActive == 1) {
            if (DecoyBallSpr.y <= TargetSpr.y) {
                DecoyBallSpr.vy = 0
                DecoyBallSpr.setKind(SpriteKind.DuckHitter)
                Anim()
            }
        }
    }
})
game.onUpdate(function () {
    if (CountDownOver == 1) {
        CountDownP.setText("Time: " + CountDown)
    }
})
game.onUpdate(function () {
    if (CountDownOver == 1) {
        Points.setText("Points: " + SCORE)
        if (SCORE >= 100) {
            Points.x = 120
        } else {
            Points.x = 130
        }
    }
})
game.onUpdateInterval(2000, function () {
    if (IfFPSCarnivalGameActive == true && CountDownOver == 1) {
        if (ModdedDucks == 1 || ModdedDucks == 3) {
            ModdedDucksMode()
        } else {
            if (Math.percentChance(80)) {
                if (Math.percentChance(90)) {
                    YellowDuckSpr = sprites.create(assets.image`Duck`, SpriteKind.YellowDuck)
                    YellowDuckSpr.z = 5
                    YellowDuckSpr.setPosition(160, 50)
                    YellowDuckSpr.vx = -30
                    YellowDuckSpr.setFlag(SpriteFlag.AutoDestroy, true)
                    animation.runImageAnimation(
                    YellowDuckSpr,
                    assets.animation`DuckAnimation`,
                    200,
                    true
                    )
                } else {
                    GreenduckFunc()
                }
            } else if (Math.percentChance(90)) {
                RedDuckSpr = sprites.create(assets.image`RedDuck`, SpriteKind.RedDuck)
                RedDuckSpr.z = 5
                RedDuckSpr.setPosition(160, 50)
                RedDuckSpr.vx = -30
                RedDuckSpr.setFlag(SpriteFlag.AutoDestroy, true)
                animation.runImageAnimation(
                RedDuckSpr,
                assets.animation`DuckAnimation0`,
                200,
                true
                )
            } else {
                GreenduckFunc()
            }
        }
    }
})
game.onUpdate(function () {
    if (IfFPSCarnivalGameActive == false && FPSCarnivalSetup == true) {
        if (TutorialNumber == 0) {
            Tutorial2.setImage(assets.image`Tut1`)
        } else if (TutorialNumber == 1) {
            Tutorial2.setImage(assets.image`Tut2`)
        } else if (TutorialNumber == 2) {
            Tutorial2.setImage(assets.image`Tut3`)
        } else if (TutorialNumber == 3) {
            Tutorial2.setImage(assets.image`Tut4`)
        } else if (TutorialNumber == 4) {
            Tutorial2.setImage(assets.image`Tut5`)
        }
    }
})
game.onUpdateInterval(1000, function () {
    if (CountDownOver == 1) {
        if (CountDown > 0) {
            CountDown += -1
            music.changeTempoBy(50)
        } else {
            if (FinalScreen == 0) {
                music.stopAllSounds()
                Scorething()
                timer.after(500, function () {
                    music.play(music.melodyPlayable(music.powerDown), music.PlaybackMode.UntilDone)
                    music.setVolume(0)
                    if (SCORE >= TopScore) {
                        blockSettings.writeNumber("CE", 1)
                        game.gameOver(true)
                    } else {
                        game.gameOver(false)
                    }
                })
            }
        }
    }
})
game.onUpdateInterval(1000, function () {
    if (IfFPSCarnivalGameActive == true && CountDownOver == 1) {
        if (ModdedDucks == 1 || ModdedDucks == 2) {
            ModdedDucksTop()
        } else {
            if (Math.percentChance(80)) {
                if (Math.percentChance(90)) {
                    YellowDuckSpr = sprites.create(assets.image`Duck`, SpriteKind.YellowDuck)
                    YellowDuckSpr.z = 3
                    YellowDuckSpr.setPosition(0, 13)
                    YellowDuckSpr.vx = 60
                    YellowDuckSpr.setFlag(SpriteFlag.AutoDestroy, true)
                    animation.runImageAnimation(
                    YellowDuckSpr,
                    assets.animation`DuckAnimationF0`,
                    200,
                    true
                    )
                } else {
                    GreenduckFuncF()
                }
            } else if (Math.percentChance(90)) {
                RedDuckSpr = sprites.create(assets.image`RedDuck`, SpriteKind.RedDuck)
                RedDuckSpr.z = 3
                RedDuckSpr.setPosition(0, 13)
                RedDuckSpr.vx = 60
                RedDuckSpr.setFlag(SpriteFlag.AutoDestroy, true)
                animation.runImageAnimation(
                RedDuckSpr,
                assets.animation`DuckAnimationF`,
                200,
                true
                )
            } else {
                GreenduckFuncF()
            }
        }
    }
})
game.onUpdate(function () {
    if (SurvivalModeActive == 1) {
        if (LivesSM == 3) {
            HeartSprite.setImage(assets.image`HeartSprite`)
        } else if (LivesSM == 2) {
            HeartSprite.setImage(assets.image`HeartSprite2`)
        } else {
            HeartSprite.setImage(assets.image`HeartSprite1`)
        }
    }
})
namespace SpriteKind {
    export const ten = SpriteKind.create()
    export const twentyfive = SpriteKind.create()
    export const five = SpriteKind.create()
}
function PlinkoGameSetUp() {
    music.play(music.createSong(assets.song`song`), music.PlaybackMode.LoopingInBackground)
    game.setGameOverMessage(false, "You lost.")
    game.setGameOverEffect(true, effects.smiles)
    game.setGameOverEffect(false, effects.melt)
    turns = 4
    PlinkoGameActive = 1
    balldropped = false
    myDart = sprites.create(assets.image`ball`, SpriteKind.Player)
    _10 = sprites.create(assets.image`10`, SpriteKind.ten)
    _25 = sprites.create(assets.image`25`, SpriteKind.twentyfive)
    _5 = sprites.create(assets.image`5`, SpriteKind.five)
    scaling.scaleToPercent(_5, 50, ScaleDirection.Uniformly, ScaleAnchor.Middle)
    scaling.scaleToPercent(_25, 50, ScaleDirection.Uniformly, ScaleAnchor.Middle)
    _10.setPosition(50, 105)
    _25.setPosition(80, 105)
    _5.setPosition(105, 105)
    scaling.scaleToPercent(_10, 70, ScaleDirection.Uniformly, ScaleAnchor.Middle)
    scene.setBackgroundImage(assets.image`plinkBg`)
    myDart.setPosition(77, 5)
    game.showLongText("Beat the bullies high score of 50 to win!", DialogLayout.Full)
    game.setGameOverEffect(true, effects.confetti)
    game.setGameOverEffect(false, effects.dissolve)
    score = 0
    winvar = 0
}
sprites.onOverlap(SpriteKind.Player, SpriteKind.ten, function (sprite, otherSprite) {
    myDart.setPosition(77, 5)
    turns += -1
    score += 10
    game.showLongText("Turns Left: " + (turns - 1) + " Score:" + score, DialogLayout.Bottom)
    balldropped = false
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.five, function (sprite, otherSprite) {
    myDart.setPosition(77, 5)
    turns += -1
    score += 5
    game.showLongText("Turns Left: " + (turns - 1) + " Score:" + score, DialogLayout.Bottom)
    balldropped = false
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.twentyfive, function (sprite, otherSprite) {
    myDart.setPosition(77, 5)
    turns += -1
    score += 25
    game.showLongText("Turns Left: " + turns + " Score:" + score, DialogLayout.Bottom)
    balldropped = false
})
let plinkoy = 0
let plinkox = 0
let winvar = 0
let score = 0
let myDart: Sprite = null
let balldropped = false
let PlinkoGameActive = 0
let turns = 0
let _25: Sprite = null
let _10: Sprite = null
let _5: Sprite = null
forever(function () {
    if (PlinkoGameActive == 1) {
        if (turns <= 0) {
            if (score > 50) {
                winvar = 1
            } else {
                winvar = 2
            }
        }
    }
})
forever(function () {
    if (PlinkoGameActive == 1) {
        pauseUntil(() => winvar == 1)
        game.showLongText("High Score: " + score + " (You won!)", DialogLayout.Full)
        sprites.destroy(myDart)
        sprites.destroy(_10)
        sprites.destroy(_25)
        sprites.destroy(_5)
        PlinkoGameActive = 0
        music.stopAllSounds()
        blockSettings.writeNumber("AE", 1)
        game.gameOver(true)
    }
})
forever(function () {
    if (PlinkoGameActive == 1) {
        pauseUntil(() => winvar == 2)
        music.stopAllSounds()
        score = 1
        game.setGameOverScoringType(game.ScoringType.HighScore)
        game.gameOver(false)
    }
})
forever(function () {
    if (PlinkoGameActive == 1) {
        if (balldropped == true){
            music.play(music.createSong(assets.song`plinkin`), music.PlaybackMode.InBackground)
            console.log("ball has dropped!")
            if (Math.percentChance(50)) {
                if (myDart.x <= 103) {
                    myDart.x += 12
                } else {
                    myDart.x -= 12
                }
            } else {
                if (myDart.x >= 63) {
                    myDart.x -= 12
                } else {
                    myDart.x += 12
                }
                myDart.x += -12
            }
            myDart.y += 12
            pause(50)
        }
        
    }
})
let start = 0
let ClashActive = 0
let list: number[] = []
let Blocked2: Sprite = null
let Blocked: Sprite = null
let Blocked3: Sprite = null
let Blocked4: Sprite = null
let Block: Sprite = null
let Center: Sprite = null
let time = 0
let list2 = 0
function ClashSetUp() {
    music.stopAllSounds()
    scene.setBackgroundImage(assets.image`Loading`)
    PlinkoGameActive = 0
    start = 0
    ClashActive = 1
    game.showLongText("Bully Score: 50 ", DialogLayout.Full)
    game.showLongText("You need to beat his score!", DialogLayout.Bottom)
    game.showLongText("The Goal of the game is to get the highest score you can in 60 seconds. To get points, press the arrow keys to shoot balls at the targets.", DialogLayout.Full)
    game.showLongText("If one of your balls misses, you lose! If the target is on the top of the block, click the up arrow key, and so on for each side. Now, go play!", DialogLayout.Full)
    Start()
    list = [
        1,
        2,
        3,
        4
    ]
}
controller.up.onEvent(ControllerButtonEvent.Pressed, function () {
    if (start == 1) {
        tiles.placeOnTile(Blocked2, tiles.getTileLocation(9, 6))
        Blocked2.vy += 250
    }
    if (Tut == 4) {
        scene.setBackgroundImage(assets.image`ZSettings3`)
        Tut += 1
    }
})
sprites.onOverlap(SpriteKind.Projectile, SpriteKind.Food, function (sprite, otherSprite) {
    music.stopAllSounds()
    info.setScore(info.score())
    if (info.score() > 50) {
        game.showLongText("You beat the Bully's Score!", DialogLayout.Bottom)
        music.play(music.createSong(hex`00c8000408020107001c00020a006400f401640000040000000000000000000000000000000003120004000800011d0c001000011d100018000122`), music.PlaybackMode.UntilDone)
        blockSettings.writeNumber("BE", 1)
        game.gameOver(true)
    } else {
        score = 2
        game.setGameOverScoringType(game.ScoringType.HighScore)
        game.gameOver(false)
        music.play(music.melodyPlayable(music.wawawawaa), music.PlaybackMode.UntilDone)
    }
})
sprites.onOverlap(SpriteKind.Projectile, SpriteKind.Player, function (sprite, otherSprite) {
    Impact()
})
function Start() {
    Blocked = sprites.create(img`
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . 3 3 3 3 . . . . . .
        . . . . 3 3 3 3 3 3 3 3 . . . .
        . . . 3 3 3 3 3 3 3 3 3 3 . . .
        . . . 3 3 3 3 3 3 3 3 3 2 . . .
        . . 3 3 3 3 3 3 3 3 3 3 2 2 . .
        . . 3 3 3 3 3 3 3 3 3 3 2 2 . .
        . . 3 3 3 3 3 3 3 3 3 2 2 2 . .
        . . 3 3 3 3 3 3 3 3 3 2 2 2 . .
        . . . 3 3 3 3 3 3 3 2 2 2 . . .
        . . . 3 3 3 3 3 3 2 2 2 2 . . .
        . . . . 3 3 3 3 2 2 2 2 . . . .
        . . . . . . 2 2 2 2 . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
    `, SpriteKind.Projectile)
    Blocked2 = sprites.create(img`
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . 3 3 3 3 . . . . . .
        . . . . 3 3 3 3 3 3 3 3 . . . .
        . . . 3 3 3 3 3 3 3 3 3 3 . . .
        . . . 3 3 3 3 3 3 3 3 3 2 . . .
        . . 3 3 3 3 3 3 3 3 3 3 2 2 . .
        . . 3 3 3 3 3 3 3 3 3 3 2 2 . .
        . . 3 3 3 3 3 3 3 3 3 2 2 2 . .
        . . 3 3 3 3 3 3 3 3 3 2 2 2 . .
        . . . 3 3 3 3 3 3 3 2 2 2 . . .
        . . . 3 3 3 3 3 3 2 2 2 2 . . .
        . . . . 3 3 3 3 2 2 2 2 . . . .
        . . . . . . 2 2 2 2 . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
    `, SpriteKind.Projectile)
    Blocked3 = sprites.create(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . 3 3 3 3 . . . . . . 
        . . . . 3 3 3 3 3 3 3 3 . . . . 
        . . . 3 3 3 3 3 3 3 3 3 3 . . . 
        . . . 3 3 3 3 3 3 3 3 3 2 . . . 
        . . 3 3 3 3 3 3 3 3 3 3 2 2 . . 
        . . 3 3 3 3 3 3 3 3 3 3 2 2 . . 
        . . 3 3 3 3 3 3 3 3 3 2 2 2 . . 
        . . 3 3 3 3 3 3 3 3 3 2 2 2 . . 
        . . . 3 3 3 3 3 3 3 2 2 2 . . . 
        . . . 3 3 3 3 3 3 2 2 2 2 . . . 
        . . . . 3 3 3 3 2 2 2 2 . . . . 
        . . . . . . 2 2 2 2 . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, SpriteKind.Projectile)
    Blocked4 = sprites.create(img`
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . 3 3 3 3 . . . . . .
        . . . . 3 3 3 3 3 3 3 3 . . . .
        . . . 3 3 3 3 3 3 3 3 3 3 . . .
        . . . 3 3 3 3 3 3 3 3 3 2 . . .
        . . 3 3 3 3 3 3 3 3 3 3 2 2 . .
        . . 3 3 3 3 3 3 3 3 3 3 2 2 . .
        . . 3 3 3 3 3 3 3 3 3 2 2 2 . .
        . . 3 3 3 3 3 3 3 3 3 2 2 2 . .
        . . . 3 3 3 3 3 3 3 2 2 2 . . .
        . . . 3 3 3 3 3 3 2 2 2 2 . . .
        . . . . 3 3 3 3 2 2 2 2 . . . .
        . . . . . . 2 2 2 2 . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
    `, SpriteKind.Projectile)
    Block = sprites.create(img`
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9
        9 8 9 9 9 9 8 8 8 8 9 9 9 9 8 9
        9 9 8 9 8 8 9 9 9 9 8 8 9 8 9 9
        9 9 9 8 9 9 9 9 9 9 9 9 8 9 9 9
        9 9 8 9 9 8 8 9 9 8 8 9 9 8 9 9
        9 9 8 9 8 9 9 9 9 9 9 8 9 8 9 9
        9 8 9 9 8 9 9 8 8 9 9 8 9 9 8 9
        9 8 9 9 9 9 8 9 9 8 9 9 9 9 8 9
        9 8 9 9 9 9 8 9 9 8 9 9 9 9 8 9
        9 8 9 9 8 9 9 8 8 9 9 8 9 9 8 9
        9 9 8 9 8 9 9 9 9 9 9 8 9 8 9 9
        9 9 8 9 9 8 8 9 9 8 8 9 9 8 9 9
        9 9 9 8 9 9 9 9 9 9 9 9 8 9 9 9
        9 9 8 9 8 8 9 9 9 9 8 8 9 8 9 9
        9 8 9 9 9 9 8 8 8 8 9 9 9 9 8 9
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9
    `, SpriteKind.Player)
    Center = sprites.create(img`
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9
        9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9
    `, SpriteKind.Food)
    tiles.setCurrentTilemap(tilemap`level0`)
    scene.cameraFollowSprite(Center)
    tiles.placeOnTile(Center, tiles.getTileLocation(9, 9))
    tiles.placeOnTile(Block, tiles.getTileLocation(9, 8))
    time = 60
    info.startCountdown(60)
    info.setScore(0)
    start = 1
    music.setVolume(255)
    music.play(music.createSong(hex`0078000408040105001c000f0a006400f4010a0000040000000000000000000000000000000002380100000200016602000400012704000600012706000800012708000a0001660a000c0001270c000e0001270e001000012710001200016614001600012718001a0001271c001e0001661e002000012720002200012722002400012724002600016626002800012728002a0001272a002c0001272c002e0001662e003000012730003200012732003400012734003600016638003a0001273c003e0001274000420001274200440001a84400460001a84600480001a848004a0001274a004c0001a84c004e0001a84e00500001a85000520001275400560001a858005a0001a85c005e0001275e00600001a86000620001a86200640001a86400660001276600680001a868006a0001a86a006c0001a86c006e0001277000720001a87400760001a878007a0001a87a007c0001a87c007e0001a87e0080000127`), music.PlaybackMode.LoopingInBackground)
}
function DestroyClash(){
    Blocked.destroy()
    Blocked2.destroy()
    Blocked3.destroy()
    Blocked4.destroy()
    Block.destroy()
    Center.destroy()
    music.stopAllSounds()
    info.stopCountdown()
    start = 0
    tiles.setCurrentTilemap(tilemap`level3`)
    ClashActive = 0
}
function MoveBlock() {
    list2 = list._pickRandom()
    if (list2 == 1) {
        tiles.placeOnTile(Block, tiles.getTileLocation(8, 9))
    } else if (list2 == 2) {
        tiles.placeOnTile(Block, tiles.getTileLocation(10, 9))
    } else if (list2 == 3) {
        tiles.placeOnTile(Block, tiles.getTileLocation(9, 8))
    } else if (list2 == 4) {
        tiles.placeOnTile(Block, tiles.getTileLocation(9, 10))
    }
}

info.onCountdownEnd(function () {
    if (ClashActive == 1) {
        music.stopAllSounds()
        info.setScore(info.score())
        if (info.score() > 50) {
            game.showLongText("You beat the Bully's Score!", DialogLayout.Bottom)
            music.play(music.createSong(hex`00c8000408020107001c00020a006400f401640000040000000000000000000000000000000003120004000800011d0c001000011d100018000122`), music.PlaybackMode.UntilDone)
        } else {
            game.gameOver(false)
            music.play(music.melodyPlayable(music.wawawawaa), music.PlaybackMode.UntilDone)
        }
    }
})
controller.down.onEvent(ControllerButtonEvent.Pressed, function () {
    if (start == 1) {
        tiles.placeOnTile(Blocked, tiles.getTileLocation(9, 11))
        Blocked.vy += -250
    }
    if (Tut == 5) {
        scene.setBackgroundImage(assets.image`ZSettings5`)
        Tut += 1
    }
})
function Impact() {
    Blocked.vy = 0
    Blocked2.vy = 0
    Blocked3.vx = 0
    Blocked4.vx = 0
    tiles.placeOnTile(Blocked, tiles.getTileLocation(0, 0))
    tiles.placeOnTile(Blocked2, tiles.getTileLocation(0, 0))
    tiles.placeOnTile(Blocked3, tiles.getTileLocation(0, 0))
    tiles.placeOnTile(Blocked4, tiles.getTileLocation(0, 0))
    info.setScore(info.score() + 1)
    music.play(music.melodyPlayable(music.smallCrash), music.PlaybackMode.UntilDone)
    MoveBlock()
}
namespace SpriteKind {
    export const Animated = SpriteKind.create()
}
let BILL: Sprite = null
function FirstCutscene() {
    story.startCutscene(function () {
        scene.setBackgroundImage(assets.image`BG`)
        BILL = sprites.create(assets.image`BILLN`, SpriteKind.Player)
        scaling.scaleByPercent(BILL, 100, ScaleDirection.Uniformly, ScaleAnchor.Middle)
        BILL.setPosition(75, 64)
        story.printCharacterText("DO NOT press any buttons until after the cutscene is finished!", "Devs")
        story.printCharacterText("HAHA I have the high score on all the games and you don't!", "Bill")
        story.printCharacterText("You will never get the high scores HAHA!", "Bill")
        story.printCharacterText("To win the game, get all of the high scores!", "Narrator")
        story.printCharacterText("There are 3 games with high scores.", "Narrator")
        story.printCharacterText("There will be a tutorial for each game! Good luck!", "Narrator")
        story.printCharacterText("I can do this!", "Protagonist")
        sprites.destroy(BILL)
        scene.setBackgroundImage(assets.image`ZSettings`)
        Tut = 1
    })
    story.cancelCurrentCutscene()
    music.stopAllSounds()
}
let MainScreenLeavable = 0
let RefreshSelected = 0
let PlinkoGameSelected = 0
let ClashGameSelected = 0
let DuckpotGameSelected = 0
let PGA = 0
let CGA = 0
let DGA = 0
let RSA = 0
let NotH = 0
let Tut = 0
let SelectionScreens = 0
if (blockSettings.exists("DE")){
    color.FadeToBlack.startScreenEffect(1)
    timer.after(1500, function () {
        sprites.destroyAllSpritesOfKind(SpriteKind.Logo)
        color.startFade(color.Black, color.originalPalette, 500)
        scene.setBackgroundImage(assets.image`PlinkoArcadeScreen`)
        PlinkoGameSelected = 1
        PGA = 1
        SelectionScreens = 1
    })
} else {
    let StartingAnim = sprites.create(assets.image`Loading`, SpriteKind.NonTouchableObject)
animation.runImageAnimation(
    StartingAnim,
    assets.animation`STEM`,
    50,
    false
)
timer.after(300, function(){
    color.FadeToBlack.startScreenEffect(1000)
    timer.after(1500, function(){
        StartingAnim.destroy()
        scene.setBackgroundImage(assets.image`Main Screen`)
        let Logo = sprites.create(assets.image`ArcadeMania`, SpriteKind.Logo)
        animation.runMovementAnimation(Logo, animation.animationPresets(animation.bobbing), 2000, true)
        Logo.setPosition(80, 60)
        color.startFade(color.Black, color.originalPalette, 500)
        timer.after(500, function(){
            MainScreenLeavable = 1
            blockSettings.writeNumber("DE", 1)
        })
    })
})
}

function APressedContinued(){
    if (MainScreenLeavable == 1 && NotH == 0) {
        NotH = 1
        color.FadeToBlack.startScreenEffect(1000)
        timer.after(1500, function(){
            sprites.destroyAllSpritesOfKind(SpriteKind.Logo)
            color.startFade(color.Black, color.originalPalette, 500)
            timer.after(500, function(){
                FirstCutscene()
            })
            /*scene.setBackgroundImage(assets.image`PlinkoArcadeScreen`)
            PlinkoGameSelected = 1
            PGA = 1
            SelectionScreens = 1*/
        })
    }
    if (SelectionScreens == 1 && PGA == 1){
        SelectionScreens = 0
        scene.setBackgroundImage(assets.image`Loading`)
        color.FadeToWhite.startScreenEffect(1000)
        timer.after(1000, function(){
            color.startFade(color.White, color.originalPalette, 500)
            timer.after(600, function(){
                PlinkoGameSetUp()
            })
        })
    }
    if (SelectionScreens == 1 && CGA == 1) {
        SelectionScreens = 0
        scene.setBackgroundImage(assets.image`Loading`)
        color.FadeToWhite.startScreenEffect(1000)
        timer.after(1000, function () {
            color.startFade(color.White, color.originalPalette, 500)
            timer.after(600, function () {
                ClashSetUp()
            })
        })
    }
    if (SelectionScreens == 1 && DGA == 1){
        SelectionScreens = 0
        scene.setBackgroundImage(assets.image`Loading`)
        color.FadeToWhite.startScreenEffect(1000)
        timer.after(1000, function () {
            color.startFade(color.White, color.originalPalette, 500)
            timer.after(600, function () {
                SetUpForCarnivalGame()
            })
        })
    }
    if (Tut == 1){
        scene.setBackgroundImage(assets.image`ZSettings0`)
        Tut += 1
    }
    if (Tut == 7) {
        Tut += 1
        color.FadeToBlack.startScreenEffect(1000)
        timer.after(1500, function () {
            sprites.destroyAllSpritesOfKind(SpriteKind.Logo)
            color.startFade(color.Black, color.originalPalette, 500)
            scene.setBackgroundImage(assets.image`PlinkoArcadeScreen`)
            PlinkoGameSelected = 1
            PGA = 1
            SelectionScreens = 1
        })
    }
    if (SelectionScreens == 1 && RSA == 1){
        blockSettings.clear()
        game.reset()
    }
}
function RightP(){
    if (SelectionScreens == 1){
        if (RefreshSelected == 1) {
            color.FadeToBlack.startScreenEffect(1000)
            timer.after(1500, function () {
                color.startFade(color.Black, color.originalPalette, 500)
                scene.setBackgroundImage(assets.image`CLEAR`)
                PlinkoGameSelected = 1
                PGA = 1
                RefreshSelected = 0
                RSA = 0
            })
        }
        if (PlinkoGameSelected == 1){
            color.FadeToBlack.startScreenEffect(1000)
            timer.after(1500, function () {
                if (blockSettings.exists("AE")){
                    color.startFade(color.Black, color.originalPalette, 500)
                    scene.setBackgroundImage(assets.image`ClashArcadeScreen`)
                    PlinkoGameSelected = 0
                    PGA = 0
                    CGA = 1
                    ClashGameSelected = 1
                } else {
                    color.startFade(color.Black, color.originalPalette, 500)
                    scene.setBackgroundImage(assets.image`ClashLocked`)
                    PlinkoGameSelected = 0
                    ClashGameSelected = 1
                    PGA = 0
                }
                
            })
        } 
        if (ClashGameSelected == 1) {
            color.FadeToBlack.startScreenEffect(1000)
            timer.after(1500, function () {
                if (blockSettings.exists("BE")) {
                    color.startFade(color.Black, color.originalPalette, 500)
                    scene.setBackgroundImage(assets.image`DuckpotArcadeScreen`)
                    ClashGameSelected = 0
                    DuckpotGameSelected = 1
                    CGA = 0
                    DGA = 1
                } else {
                    color.startFade(color.Black, color.originalPalette, 500)
                    scene.setBackgroundImage(assets.image`DuckpotLocked`)
                    ClashGameSelected = 0
                    DuckpotGameSelected = 1
                    CGA = 0
                }
                
            })
        }

    }
    if (Tut == 3) {
        scene.setBackgroundImage(assets.image`ZSettings2`)
        Tut += 1
    }
    console.logValue("PlinkoS", PGA)
    console.logValue("ClashS", CGA)
    console.logValue("DuckpotS", DGA)
}
function LeftP(){
    if (SelectionScreens == 1) {
        if (PlinkoGameSelected == 1) {
            color.FadeToBlack.startScreenEffect(1000)
            timer.after(1500, function () {
                color.startFade(color.Black, color.originalPalette, 500)
                scene.setBackgroundImage(assets.image`CLEAR`)
                PlinkoGameSelected = 0
                PGA = 0
                RefreshSelected = 1
                RSA = 1
            })
        }
        if (ClashGameSelected == 1) {
            color.FadeToBlack.startScreenEffect(1000)
            timer.after(1500, function () {
                color.startFade(color.Black, color.originalPalette, 500)
                scene.setBackgroundImage(assets.image`PlinkoArcadeScreen`)
                ClashGameSelected = 0
                PlinkoGameSelected = 1
                CGA = 0
                PGA = 1
            })
        }
        if (DuckpotGameSelected == 1) {
            color.FadeToBlack.startScreenEffect(1000)
            timer.after(1500, function () {
                color.startFade(color.Black, color.originalPalette, 500)
                DuckpotGameSelected = 0
                ClashGameSelected = 1
                if (blockSettings.exists("AE")) {
                    scene.setBackgroundImage(assets.image`ClashArcadeScreen`)
                    DuckpotGameSelected = 0
                    PGA = 0
                    CGA = 1
                    ClashGameSelected = 1
                } else {
                    scene.setBackgroundImage(assets.image`ClashLocked`)
                    DuckpotGameSelected = 0
                    ClashGameSelected = 1
                    DGA = 0
                    CGA = 0
                }
            })
        }
    }
    if (Tut == 2) {
        scene.setBackgroundImage(assets.image`ZSettings1`)
        Tut += 1
    }
}